{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} - CEDOSSA</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body class="bg-gray-50 text-gray-800 leading-relaxed">

  <!-- NAVBAR -->
  <nav class="bg-white shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">

      <div class="flex items-center">
        <img src="{% static 'images/cedossa.png' %}" alt="CEDOSSA Logo" class="h-10 mr-3">
        <span class="text-2xl font-bold text-indigo-600">CEDOSSA</span>
      </div>

      <ul class="hidden md:flex space-x-6 font-medium">
        <li><a href="{% url 'main:home' %}" class="hover:text-blue-600">Home</a></li>
        <li><a href="{% url 'main:down_syndrome_support' %}" class="hover:text-blue-600">Down Syndrome</a></li>
        <li><a href="{% url 'main:sickle_cell_support' %}" class="hover:text-blue-600">Sickle Cell</a></li>
        <li><a href="{% url 'main:autism_support' %}" class="hover:text-blue-600">Autism</a></li>
        <li><a href="{% url 'main:events' %}" class="hover:text-blue-600">Events</a></li>
        <li><a href="{% url 'main:contact' %}" class="hover:text-blue-600">Contact</a></li>
      </ul>

      <button id="mobile-menu-button" class="md:hidden text-2xl">
        <i class="fas fa-bars"></i>
      </button>
    </div>

    <!-- MOBILE MENU -->
    <div id="mobile-menu" class="hidden bg-white shadow-md md:hidden">
      <ul class="flex flex-col space-y-4 px-6 py-4">
        <li><a href="{% url 'main:home' %}">Home</a></li>
        <li><a href="{% url 'main:down_syndrome_support' %}">Down Syndrome</a></li>
        <li><a href="{% url 'main:sickle_cell_support' %}">Sickle Cell</a></li>
        <li><a href="{% url 'main:autism_support' %}">Autism</a></li>
        <li><a href="{% url 'main:events' %}">Events</a></li>
        <li><a href="{% url 'main:contact' %}">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- PROGRAMS -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto text-center px-6">

      <h2 class="text-3xl font-bold text-blue-700 mb-4">Our Work</h2>

      <p class="text-gray-600 mb-4 max-w-2xl mx-auto">
        We support children with Down syndrome, sickle cell disease, and autism
        through healthcare, education, advocacy, and community engagement.
      </p>

      <p class="text-sm text-gray-500 mb-12">
        Select a program below to find support, learn more, or get involved.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">

        {% for program in programs %}
        <div
          class="bg-white rounded-2xl shadow-md p-8 text-left
                 hover:shadow-xl hover:-translate-y-1
                 transition transform duration-300">

          <h3 class="text-xl font-bold mb-3 text-{{ program.color }}">
            {{ program.title }}
          </h3>

          <p class="text-gray-600 mb-4">
            {{ program.description }}
          </p>

          <p class="text-sm text-gray-500 mb-6">
            {{ program.cta_description|default:"Support, awareness, and guidance for families and communities." }}
          </p>

          {% if program.url_name != '#' %}
          <a href="{% url 'main:'|add:program.url_name %}"
             class="inline-flex items-center font-medium text-{{ program.color }} hover:underline">
            {{ program.cta }} ‚Üí
          </a>
          {% endif %}
        </div>
        {% endfor %}

      </div>
    </div>
  </section>

  <!-- UPCOMING EVENTS -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-6 text-center">

      <h2 class="text-3xl font-bold text-blue-700 mb-4">
        Upcoming Events
      </h2>

      <p class="text-gray-600 mb-12 max-w-2xl mx-auto">
        Join us in upcoming awareness activities, community engagements,
        and caregiver support events.
      </p>

      {% if upcoming_events %}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-10">

        {% for event in upcoming_events %}
        <div class="bg-gray-50 rounded-2xl shadow-md overflow-hidden text-left
                    hover:shadow-lg transition">

          {% if event.image %}
          <img src="{{ event.image.url }}"
               alt="{{ event.title }}"
               class="w-full h-48 object-cover">
          {% endif %}

          <div class="p-6">
            <h3 class="text-xl font-bold mb-2">
              {{ event.title }}
            </h3>

            <p class="text-sm text-gray-500 mb-3">
              üìÖ {{ event.date }} &nbsp; | &nbsp; üìç {{ event.location }}
            </p>

            <p class="text-gray-600 mb-4">
              {{ event.description|truncatewords:20 }}
            </p>

            <a href="{% url 'main:events' %}"
               class="text-blue-600 font-medium hover:underline">
              Learn more & participate ‚Üí
            </a>
          </div>
        </div>
        {% endfor %}

      </div>
      {% else %}
      <p class="text-gray-500 mb-10">
        No upcoming events at the moment. Please check back soon.
      </p>
      {% endif %}

      <a href="{% url 'main:events' %}"
         class="inline-block px-6 py-3 bg-blue-600 text-white rounded-lg shadow
                hover:bg-blue-700 transition">
        View All Events
      </a>

    </div>
  </section>

  <!-- CALL TO ACTION -->
  <section class="py-20 bg-blue-600 text-white">
    <div class="container mx-auto text-center px-6">

      <h2 class="text-3xl font-bold mb-6">Get Involved</h2>

      <p class="mb-8 max-w-xl mx-auto">
        Whether you are a parent, caregiver, volunteer, or supporter,
        you can play a role in improving the lives of children and families we serve.
      </p>

      <div class="flex justify-center gap-4 flex-wrap">
        <a href="{% url 'main:contact' %}"
           class="px-6 py-3 bg-white text-blue-600 rounded-lg shadow
                  hover:bg-gray-100 transition">
          Volunteer
        </a>
        <a href="{% url 'main:donate' %}"
           class="px-6 py-3 bg-yellow-400 text-gray-900 rounded-lg shadow
                  hover:bg-yellow-300 transition">
          Donate
        </a>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-gray-900 text-white py-14 mt-16">
  <div class="container mx-auto px-6 text-center max-w-3xl">

    <!-- Mission reminder -->
    <p class="text-sm text-gray-300 mb-4 leading-relaxed">
      CEDOSSA is a non-governmental organisation dedicated to supporting children
      with Down syndrome, sickle cell disease, and autism through care, education,
      advocacy, and community engagement.
    </p>

    <!-- Contact cue -->
    <p class="text-sm text-gray-400 mb-6">
      For partnerships, participation, or general enquiries, please reach out through
      our contact page.
    </p>

    <!-- Divider -->
    <div class="border-t border-gray-700 my-6"></div>

    <!-- Legal / identity -->
    <p class="text-xs text-gray-500">
      ¬© 2026 CEDOSSA ‚Äî Centre for Down Syndrome, Sickle Cell, and Autism<br>
      Registered non-governmental organisation in Malawi.
    </p>

  </div>
</footer>


  <!-- MOBILE MENU SCRIPT -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("mobile-menu-button");
      const menu = document.getElementById("mobile-menu");
      const icon = btn.querySelector("i");

      btn.addEventListener("click", () => {
        menu.classList.toggle("hidden");
        icon.classList.toggle("fa-bars");
        icon.classList.toggle("fa-times");
      });

      document.querySelectorAll("#mobile-menu a").forEach(link => {
        link.addEventListener("click", () => {
          menu.classList.add("hidden");
          icon.classList.add("fa-bars");
          icon.classList.remove("fa-times");
        });
      });
    });
  </script>

</body>
</html>
